// File upload endpoint storing file to etc folder for root and guest users only
.arguments
   file
      name:string
      stream:*

// Making sure user belongs to root role
auth.ticket.verify:root,guest

// Storing file in etc folder
strings.concat
   .:/etc/
   get-value:x:@.arguments/*/name

// Saving stream to full path for file
io.stream.save-file:x:@strings.concat
   get-value:x:@.arguments/*/file/*/stream
