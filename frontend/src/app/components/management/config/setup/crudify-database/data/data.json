[
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"crypto_invocations",
    "moduleUrl":"crypto_invocations",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.get.hl",
    "verb":"get",
    "auth":"root",
    "args":{
       "columns":[
          {
             "name":"id",
             "type":"long"
          },
          {
             "name":"crypto_key",
             "type":"long"
          },
          {
             "name":"request_id",
             "type":"string"
          },
          {
             "name":"request",
             "type":"string"
          },
          {
             "name":"request_raw",
             "type":"string"
          },
          {
             "name":"response",
             "type":"string"
          },
          {
             "name":"created",
             "type":"date"
          }
       ]
    },
    "conditions": [
       {
          "id.eq": "long"
       },
       {
          "id.mt": "long"
       },
       {
         "id.lt": "long"
       },
       {
         "id.mteq": "long"
       },
       {
         "id.lteq": "long"
       },
       {
         "crypto_key.eq": "long"
       },
       {
         "request_id.like": "string"
       },
       {
         "request_id.eq": "string"
       },
       {
         "request.like": "string"
       },
       {
         "response.like": "string"
       },
       {
         "created.mt": "date"
       },
       {
         "created.lt": "date"
       },
       {
         "created.mteq": "date"
       },
       {
         "created.lteq": "date"
       }
    ]
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"crypto_keys",
    "moduleUrl":"crypto_keys",
    "returnId":true,
    "template":"/system/crudifier/templates/crud.template.post.hl",
    "verb":"post",
    "auth":"root",
    "args":{
       "columns":[
          {
             "name":"subject",
             "type":"string"
          },
          {
             "name":"email",
             "type":"string"
          },
          {
             "name":"domain",
             "type":"string"
          },
          {
             "name":"type",
             "type":"string"
          },
          {
             "name":"fingerprint",
             "type":"string"
          },
          {
             "name":"content",
             "type":"string"
          },
          {
             "name":"vocabulary",
             "type":"string"
          },
          {
             "name":"enabled",
             "type":"bool"
          }
       ]
    },
    "validators":"..:\"Sanity checking invocation\"\r\nvalidators.email:x:@.arguments/*/email\r\nvalidators.url:x:@.arguments/*/domain\r\nvalidators.enum:x:@.arguments/*/type\r\n   .:RSA\r\nvalidators.string:x:@.arguments/*/fingerprint\r\n   min:int:79\r\n   max:int:79\r\nvalidators.mandatory:x:@.arguments/*/email\r\nvalidators.mandatory:x:@.arguments/*/domain\r\nvalidators.mandatory:x:@.arguments/*/type\r\nvalidators.mandatory:x:@.arguments/*/fingerprint\r\nvalidators.mandatory:x:@.arguments/*/content"
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"crypto_keys",
    "moduleUrl":"crypto_keys",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.get.hl",
    "verb":"get",
    "auth":"root",
    "args":{
       "columns":[
          {
             "name":"id",
             "type":"long"
          },
          {
             "name":"subject",
             "type":"string"
          },
          {
             "name":"email",
             "type":"string"
          },
          {
             "name":"domain",
             "type":"string"
          },
          {
             "name":"type",
             "type":"string"
          },
          {
             "name":"fingerprint",
             "type":"string"
          },
          {
             "name":"content",
             "type":"string"
          },
          {
             "name":"vocabulary",
             "type":"string"
          },
          {
             "name":"imported",
             "type":"date"
          },
          {
             "name":"enabled",
             "type":"bool"
          }
       ]
    },
    "conditions": [
       {
          "id.eq":"long"
       },
       {
          "id.lt":"long"
       },
       {
          "id.mt":"long"
       },
       {
          "id.lteq":"long"
       },
       {
          "id.mteq":"long"
       },
       {
          "subject.like":"string"
       },
       {
          "subject.eq":"string"
       },
       {
          "email.like":"string"
       },
       {
          "email.eq":"string"
       },
       {
          "domain.like":"string"
       },
       {
          "domain.eq":"string"
       },
       {
          "type.eq":"string"
       },
       {
          "type.neq":"string"
       },
       {
          "fingerprint.eq":"string"
       },
       {
          "vocabulary.like":"string"
       },
       {
          "imported.lt":"date"
       },
       {
          "imported.mt":"date"
       },
       {
          "imported.lteq":"date"
       },
       {
          "imported.mteq":"date"
       },
       {
          "enabled.eq":"bool"
       }
    ]
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"crypto_keys",
    "moduleUrl":"crypto_keys",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.put.hl",
    "verb":"put",
    "auth":"root",
    "args":{
       "primary":[
          {
            "name":"id",
            "type":"long"
         }
       ],
       "columns":[
          {
             "name":"subject",
             "type":"string"
          },
          {
            "name":"email",
            "type":"string"
         },
          {
            "name":"domain",
            "type":"string"
         },
          {
            "name":"type",
            "type":"string"
         },
          {
            "name":"fingerprint",
            "type":"string"
         },
          {
            "name":"content",
            "type":"string"
         },
          {
            "name":"vocabulary",
            "type":"string"
         },
          {
            "name":"enabled",
            "type":"bool"
         }
       ]
    },
    "validators":"..:\"Sanity checking invocation\"\r\nvalidators.email:x:@.arguments/*/email\r\nvalidators.url:x:@.arguments/*/domain\r\nvalidators.enum:x:@.arguments/*/type\r\n   .:RSA\r\nvalidators.string:x:@.arguments/*/fingerprint\r\n   min:int:79\r\n   max:int:79"
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"crypto_keys",
    "moduleUrl":"crypto_keys",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.delete.hl",
    "verb":"delete",
    "auth":"root",
    "args":{
       "primary":[
          {
             "id":"long"
          }
       ]
    }
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"roles",
    "moduleUrl":"roles",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.post.hl",
    "verb":"post",
    "auth":"root",
    "args":{
       "columns":[
          {
             "name":"name",
             "type":"string"
          },
          {
             "name":"description",
             "type":"string"
          }
       ]
    },
    "validators": "..:\"Sanity checking invocation\"\r\nvalidators.regex:x:@.arguments/*/name\r\n   regex:^[A-Za-z0-9\\-_]*$"
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"roles",
    "moduleUrl":"roles",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.get.hl",
    "verb":"get",
    "auth":"root",
    "args":{
       "columns":[
          {
             "name":"name",
             "type":"string"
          },
          {
             "name":"description",
             "type":"string"
          }
       ]
    },
    "conditions":[
       {
          "name.eq":"string"
       },
       {
          "name.like":"string"
       },
       {
          "description.like":"string"
       }
    ]
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"roles",
    "moduleUrl":"roles",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.put.hl",
    "verb":"put",
    "auth":"root",
    "args":{
       "primary":[
          {
            "name":"name",
            "type":"string"
         }
       ],
       "columns":[
          {
             "name":"description",
             "type":"string"
          }
       ]
    }
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"roles",
    "moduleUrl":"roles",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.delete.hl",
    "verb":"delete",
    "auth":"root",
    "args":{
       "primary":[
          {
             "name":"string"
          }
       ]
    }
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"users",
    "moduleUrl":"users",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.post.hl",
    "verb":"post",
    "auth":"root",
    "args":{
       "columns":[
          {
             "name":"username",
             "type":"string"
          },
          {
             "name":"password",
             "type":"string"
          },
          {
             "name":"locked",
             "type":"bool"
          }
      ]
    },
    "validators": "..:\"Sanity checking invocation\"\r\nvalidators.mandatory:x:@.arguments/*/username\r\nvalidators.mandatory:x:@.arguments/*/password\r\neval:x:+\r\nsignal:transformers.hash-password\r\n   reference:x:@.arguments/*/password"
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"users",
    "moduleUrl":"users",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.get.hl",
    "verb":"get",
    "auth":"root",
    "args":{
       "columns":[
          {
             "name":"username",
             "type":"string"
          },
          {
             "name":"locked",
             "type":"bool"
          },
          {
             "name":"created",
             "type":"date"
          }
       ]
    },
    "conditions":[
       {
          "username.eq":"string"
       },
       {
          "username.like":"string"
       },
       {
          "locked.eq":"bool"
       },
       {
         "created.mt":"date"
       },
       {
         "created.lt":"date"
       },
       {
         "created.mteq":"date"
       },
       {
         "created.lteq":"date"
       }
   ]
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"users",
    "moduleUrl":"users",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.put.hl",
    "verb":"put",
    "auth":"root",
    "args":{
       "primary":[
          {
            "name":"username",
            "type":"string"
         }
       ],
       "columns":[
          {
            "name":"password",
            "type":"string"
          },
          {
            "name":"locked",
            "type":"bool"
          }
       ]
    },
    "validators": "..:\"Sanity checking invocation\"\r\nvalidators.mandatory:x:@.arguments/*/username\r\neval:x:+\r\nsignal:transformers.hash-password\r\n   reference:x:@.arguments/*/password"
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"users",
    "moduleUrl":"users",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.delete.hl",
    "verb":"delete",
    "auth":"root",
    "args":{
       "primary":[
          {
             "username":"string"
          }
       ]
    }
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"users_roles",
    "moduleUrl":"users_roles",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.post.hl",
    "verb":"post",
    "auth":"root",
    "args":{
       "columns":[
          {
            "name":"role",
            "type":"string"
          },
          {
            "name":"user",
            "type":"string"
          }
       ]
    }
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"users_roles",
    "moduleUrl":"users_roles",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.get.hl",
    "verb":"get",
    "auth":"root",
    "args":{
       "columns":[
          {
             "name":"role",
             "type":"string"
          },
          {
             "name":"user",
             "type":"string"
          }
       ]
    },
    "conditions":[
       {
          "role.eq": "string"
       },
       {
          "user.eq": "string"
       }
    ]
  },
  {
    "overwrite": true,
    "moduleName":"magic",
    "database":"[generic|magic]",
    "table":"users_roles",
    "moduleUrl":"users_roles",
    "returnId":false,
    "template":"/system/crudifier/templates/crud.template.delete.hl",
    "verb":"delete",
    "auth":"root",
    "args":{
       "primary":[
          {
             "role":"string"
          },
          {
             "user":"string"
          }
       ]
    }
  },
  {
   "overwrite": true,
   "moduleName":"magic",
   "database":"[generic|magic]",
   "table":"users_extra",
   "moduleUrl":"users_extra",
   "returnId":false,
   "template":"/system/crudifier/templates/crud.template.post.hl",
   "verb":"post",
   "auth":"root",
   "args":{
      "columns":[
         {
           "name":"type",
           "type":"string"
         },
         {
           "name":"value",
           "type":"string"
         },
         {
           "name":"user",
           "type":"string"
         }
      ]
   }
 },
 {
   "overwrite": true,
   "moduleName":"magic",
   "database":"[generic|magic]",
   "table":"users_extra",
   "moduleUrl":"users_extra",
   "returnId":false,
   "template":"/system/crudifier/templates/crud.template.get.hl",
   "verb":"get",
   "auth":"root",
   "args":{
      "columns":[
         {
            "name":"type",
            "type":"string"
         },
         {
            "name":"value",
            "type":"string"
         },
         {
            "name":"user",
            "type":"string"
         }
      ]
   },
   "conditions":[
      {
         "type.eq": "string"
      },
      {
         "value.like": "string"
      },
      {
         "type.eq": "string"
      }
   ]
 },
 {
   "overwrite": true,
   "moduleName":"magic",
   "database":"[generic|magic]",
   "table":"users_extra",
   "moduleUrl":"users_extra",
   "returnId":false,
   "template":"/system/crudifier/templates/crud.template.delete.hl",
   "verb":"delete",
   "auth":"root",
   "args":{
      "primary":[
         {
            "type":"string"
         },
         {
            "user":"string"
         }
      ]
   }
 },
 {
   "overwrite": true,
   "moduleName":"magic",
   "database":"[generic|magic]",
   "table":"users_extra",
   "moduleUrl":"users_extra",
   "returnId":false,
   "template":"/system/crudifier/templates/crud.template.put.hl",
   "verb":"put",
   "auth":"root",
   "args":{
      "primary":[
         {
           "name":"user",
           "type":"string"
         },
         {
            "name":"type",
            "type":"string"
          }
       ],
      "columns":[
         {
            "name":"value",
            "type":"string"
         }
      ]
   }
 }
]
