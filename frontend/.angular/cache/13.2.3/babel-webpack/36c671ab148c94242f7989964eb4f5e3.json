{"ast":null,"code":"// Copyright (c) .NET Foundation. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nimport { HttpError, TimeoutError } from \"./Errors\";\nimport { LogLevel } from \"./ILogger\";\n/** Represents an HTTP response. */\n\nvar HttpResponse =\n/** @class */\nfunction () {\n  function HttpResponse(statusCode, statusText, content) {\n    this.statusCode = statusCode;\n    this.statusText = statusText;\n    this.content = content;\n  }\n\n  return HttpResponse;\n}();\n\nexport { HttpResponse };\n/** Abstraction over an HTTP client.\r\n *\r\n * This class provides an abstraction over an HTTP client so that a different implementation can be provided on different platforms.\r\n */\n\nvar HttpClient =\n/** @class */\nfunction () {\n  function HttpClient() {}\n\n  HttpClient.prototype.get = function (url, options) {\n    return this.send(__assign({}, options, {\n      method: \"GET\",\n      url: url\n    }));\n  };\n\n  HttpClient.prototype.post = function (url, options) {\n    return this.send(__assign({}, options, {\n      method: \"POST\",\n      url: url\n    }));\n  };\n\n  HttpClient.prototype.delete = function (url, options) {\n    return this.send(__assign({}, options, {\n      method: \"DELETE\",\n      url: url\n    }));\n  };\n\n  return HttpClient;\n}();\n\nexport { HttpClient };\n/** Default implementation of {@link @aspnet/signalr.HttpClient}. */\n\nvar DefaultHttpClient =\n/** @class */\nfunction (_super) {\n  __extends(DefaultHttpClient, _super);\n  /** Creates a new instance of the {@link @aspnet/signalr.DefaultHttpClient}, using the provided {@link @aspnet/signalr.ILogger} to log messages. */\n\n\n  function DefaultHttpClient(logger) {\n    var _this = _super.call(this) || this;\n\n    _this.logger = logger;\n    return _this;\n  }\n  /** @inheritDoc */\n\n\n  DefaultHttpClient.prototype.send = function (request) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var xhr = new XMLHttpRequest();\n      xhr.open(request.method, request.url, true);\n      xhr.withCredentials = true;\n      xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\"); // Explicitly setting the Content-Type header for React Native on Android platform.\n\n      xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\n\n      if (request.headers) {\n        Object.keys(request.headers).forEach(function (header) {\n          return xhr.setRequestHeader(header, request.headers[header]);\n        });\n      }\n\n      if (request.responseType) {\n        xhr.responseType = request.responseType;\n      }\n\n      if (request.abortSignal) {\n        request.abortSignal.onabort = function () {\n          xhr.abort();\n        };\n      }\n\n      if (request.timeout) {\n        xhr.timeout = request.timeout;\n      }\n\n      xhr.onload = function () {\n        if (request.abortSignal) {\n          request.abortSignal.onabort = null;\n        }\n\n        if (xhr.status >= 200 && xhr.status < 300) {\n          resolve(new HttpResponse(xhr.status, xhr.statusText, xhr.response || xhr.responseText));\n        } else {\n          reject(new HttpError(xhr.statusText, xhr.status));\n        }\n      };\n\n      xhr.onerror = function () {\n        _this.logger.log(LogLevel.Warning, \"Error from HTTP request. \" + xhr.status + \": \" + xhr.statusText);\n\n        reject(new HttpError(xhr.statusText, xhr.status));\n      };\n\n      xhr.ontimeout = function () {\n        _this.logger.log(LogLevel.Warning, \"Timeout from HTTP request.\");\n\n        reject(new TimeoutError());\n      };\n\n      xhr.send(request.content || \"\");\n    });\n  };\n\n  return DefaultHttpClient;\n}(HttpClient);\n\nexport { DefaultHttpClient };","map":{"version":3,"sources":["C:/Users/shnma/OneDrive/Documents/Work/aista/magic.clone/src/magic/frontend/node_modules/@aspnet/signalr/dist/esm/HttpClient.js"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","HttpError","TimeoutError","LogLevel","HttpResponse","statusCode","statusText","content","HttpClient","get","url","options","send","method","post","delete","DefaultHttpClient","_super","logger","_this","request","Promise","resolve","reject","xhr","XMLHttpRequest","open","withCredentials","setRequestHeader","headers","keys","forEach","header","responseType","abortSignal","onabort","abort","timeout","onload","status","response","responseText","onerror","log","Warning","ontimeout"],"mappings":"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","sourcesContent":["// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { HttpError, TimeoutError } from \"./Errors\";\r\nimport { LogLevel } from \"./ILogger\";\r\n/** Represents an HTTP response. */\r\nvar HttpResponse = /** @class */ (function () {\r\n    function HttpResponse(statusCode, statusText, content) {\r\n        this.statusCode = statusCode;\r\n        this.statusText = statusText;\r\n        this.content = content;\r\n    }\r\n    return HttpResponse;\r\n}());\r\nexport { HttpResponse };\r\n/** Abstraction over an HTTP client.\r\n *\r\n * This class provides an abstraction over an HTTP client so that a different implementation can be provided on different platforms.\r\n */\r\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient() {\r\n    }\r\n    HttpClient.prototype.get = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"GET\", url: url }));\r\n    };\r\n    HttpClient.prototype.post = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"POST\", url: url }));\r\n    };\r\n    HttpClient.prototype.delete = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"DELETE\", url: url }));\r\n    };\r\n    return HttpClient;\r\n}());\r\nexport { HttpClient };\r\n/** Default implementation of {@link @aspnet/signalr.HttpClient}. */\r\nvar DefaultHttpClient = /** @class */ (function (_super) {\r\n    __extends(DefaultHttpClient, _super);\r\n    /** Creates a new instance of the {@link @aspnet/signalr.DefaultHttpClient}, using the provided {@link @aspnet/signalr.ILogger} to log messages. */\r\n    function DefaultHttpClient(logger) {\r\n        var _this = _super.call(this) || this;\r\n        _this.logger = logger;\r\n        return _this;\r\n    }\r\n    /** @inheritDoc */\r\n    DefaultHttpClient.prototype.send = function (request) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(request.method, request.url, true);\r\n            xhr.withCredentials = true;\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n            // Explicitly setting the Content-Type header for React Native on Android platform.\r\n            xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\r\n            if (request.headers) {\r\n                Object.keys(request.headers)\r\n                    .forEach(function (header) { return xhr.setRequestHeader(header, request.headers[header]); });\r\n            }\r\n            if (request.responseType) {\r\n                xhr.responseType = request.responseType;\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = function () {\r\n                    xhr.abort();\r\n                };\r\n            }\r\n            if (request.timeout) {\r\n                xhr.timeout = request.timeout;\r\n            }\r\n            xhr.onload = function () {\r\n                if (request.abortSignal) {\r\n                    request.abortSignal.onabort = null;\r\n                }\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    resolve(new HttpResponse(xhr.status, xhr.statusText, xhr.response || xhr.responseText));\r\n                }\r\n                else {\r\n                    reject(new HttpError(xhr.statusText, xhr.status));\r\n                }\r\n            };\r\n            xhr.onerror = function () {\r\n                _this.logger.log(LogLevel.Warning, \"Error from HTTP request. \" + xhr.status + \": \" + xhr.statusText);\r\n                reject(new HttpError(xhr.statusText, xhr.status));\r\n            };\r\n            xhr.ontimeout = function () {\r\n                _this.logger.log(LogLevel.Warning, \"Timeout from HTTP request.\");\r\n                reject(new TimeoutError());\r\n            };\r\n            xhr.send(request.content || \"\");\r\n        });\r\n    };\r\n    return DefaultHttpClient;\r\n}(HttpClient));\r\nexport { DefaultHttpClient };\r\n"]},"metadata":{},"sourceType":"module"}