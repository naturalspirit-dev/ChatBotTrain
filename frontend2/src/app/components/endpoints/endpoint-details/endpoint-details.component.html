
<div class="wrapper">

  <button
    mat-icon-button
    matTooltip="Copy full URL"
    class="copy-button"
    (click)="copyUrl()">
    <mat-icon>link</mat-icon>
  </button>

  <span class="item">
    <strong class="label">URL</strong>
    <span class="description">{{endpoint.path}}</span>
  </span>

  <span class="item">
    <strong class="label">Verb</strong>
    <span class="description">{{endpoint.verb}}</span>
  </span>

  <span class="item" *ngIf="endpoint.type">
    <strong class="label">Type</strong>
    <span class="description">{{endpoint.type}}</span>
  </span>

  <span class="item" *ngIf="endpoint.description">
    <strong class="label">Description</strong>
    <span class="description">{{endpoint.description}}</span>
  </span>

  <span class="item" *ngIf="endpoint.auth">
    <strong class="label">Authorization</strong>
    <span class="description">{{getAuth(endpoint.auth)}}</span>
  </span>

  <span
    *ngIf="endpoint.input && endpoint.input.length > 0 && (endpoint.verb === 'get' || endpoint.verb === 'delete')"
    class="item-full-width">
    <strong class="label">Input</strong>
    <span class="description">

      <mat-chip-list>
        <mat-chip
          *ngFor="let i of getArguments(endpoint.input, true)"
          [matTooltip]="i.type"
          selectable="false"
          [class]="hasQueryParam(i) ? 'query-disabled' : ''"
          (removed)="removeQueryParameter(i)"
          (click)="addQueryParameter(i)">
          {{i.name}}
          <mat-icon
            *ngIf="hasQueryParam(i)"
            matChipRemove>cancel</mat-icon>
        </mat-chip>
      </mat-chip-list>

    </span>
    <span class="description">

      <mat-chip-list>
        <mat-chip
          *ngFor="let i of getArguments(endpoint.input, false)"
          [matTooltip]="i.type"
          selectable="false"
          [class]="hasQueryParam(i) ? 'query-disabled' : ''"
          (removed)="removeQueryParameter(i)"
          (click)="addQueryParameter(i)">
          {{i.name}}
          <mat-icon
            *ngIf="hasQueryParam(i)"
            matChipRemove>cancel</mat-icon>
        </mat-chip>
      </mat-chip-list>

    </span>
  </span>

  <span
    *ngIf="endpoint.input && endpoint.input.length > 0 && (endpoint.verb !== 'get' && endpoint.verb !== 'delete')"
    class="item-full-width">
    <strong class="label">Input</strong>
    <span class="description">

      <ngx-codemirror
        [(ngModel)]="payload"
        [options]="cmOptions.json">
      </ngx-codemirror>

    </span>
  </span>

  <span
    *ngIf="url"
    class="item-full-width">
    <mat-form-field class="fill-width">
      <input
        matInput
        type="text"
        autocomplete="off"
        [(ngModel)]="url">
    </mat-form-field>
  </span>

</div>
